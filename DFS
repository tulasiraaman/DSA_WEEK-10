class Solution {
    private void preOrder(Map<Integer, List<Integer>> map, int hd, TreeNode root){
        if(root == null) return;

        map.computeIfAbsent(hd, k -> new ArrayList<>()).add(root.val);

        preOrder(map, hd-1, root.left);
        preOrder(map, hd+1, root.right);
    }

    public List<List<Integer>> verticalTraversal(TreeNode root) {
        Map<Integer, List<Integer>> map = new HashMap<>();
        preOrder(map, 0, root);

        // print top view
        for(List<Integer> list : map.values()){
            System.out.print(list.get(0)+" ");
        }

        // print bottom view
        for(List<Integer> list : map.values()){
            System.out.print(list.get(list.size() - 1)+" ");
        }

        return new ArrayList<>(map.values());
    }
}
// hd = horizontal distance
// Vertical order traversal or DFS
